{"version":3,"file":"static/js/762.ebc62b7a.chunk.js","mappings":"4SAGaA,EAAUC,EAAAA,EAAAA,QAAH,qLAWPC,GAAQD,EAAAA,EAAAA,GAAOE,EAAAA,EAAPF,CAAH,+GAOLG,EAAOH,EAAAA,EAAAA,IAAH,iPAeJI,EAAYJ,EAAAA,EAAAA,IAAH,2G,uCC8CtB,EAlEsB,WACpB,IAAQK,GAAWC,EAAAA,EAAAA,IAAYC,EAAAA,IAAvBF,OACR,GAAyCC,EAAAA,EAAAA,KAAY,SAAAE,GAAK,OAAIA,EAAMC,OAAV,IAAlDC,EAAR,EAAQA,UAAWC,EAAnB,EAAmBA,MAAOC,EAA1B,EAA0BA,WACpBC,GAAUC,EAAAA,EAAAA,QAAO,MACjBC,GAAWC,EAAAA,EAAAA,MAOXC,EAAkB,SAAAC,GACtBH,GAASI,EAAAA,EAAAA,GAAgBD,IAAKE,MAAK,kBACjCL,GACEM,EAAAA,EAAAA,GAAc,CACZC,MACGV,EAAWW,gBAAkB,GAAKX,EAAWY,UAAY,EACtDZ,EAAWa,YAAc,EACzBb,EAAWa,cANY,GAUpC,EAMD,OAJAC,EAAAA,EAAAA,kBAAgB,WACdX,GAASY,EAAAA,EAAAA,GAAa,CAAET,GAAIb,EAAQiB,KAAM,IAC3C,GAAE,CAACP,EAAUV,KAGZ,SAACN,EAAD,WACE,UAAC6B,EAAA,EAAD,YACE,SAAC3B,EAAD,CAAO4B,MAAM,eACZnB,GACC,SAACoB,EAAA,EAAD,IACEnB,GACF,yBAAMA,IACJC,EAAWmB,OAAOC,QACpB,iCACE,SAAC7B,EAAD,CAAM8B,IAAKpB,EAAX,SACGD,EAAWmB,OAAOG,KAAI,SAAAH,GAAM,OAC3B,SAACI,EAAA,GAAD,QAEElB,gBAAiBA,GACbc,GAFCA,EAAOK,IAFa,OAQ/B,SAACC,EAAA,EAAD,CACEZ,YAAab,EAAWa,YACxBa,SAAU1B,EAAWY,QACrBe,WAAY3B,EAAWW,gBACvBiB,aA7CS,SAAAC,GAAQ,IAAD,EAC1B,UAAA5B,EAAQ6B,eAAR,SAAiBC,eAAe,CAAEC,SAAU,WAC5C7B,GAASY,EAAAA,EAAAA,GAAa,CAAET,GAAIb,EAAQiB,KAAMmB,IAC3C,QA8CO,SAACrC,EAAD,WACE,SAAC,IAAD,UAAgB,gDAQ3B,C","sources":["pages/MyRecipesPage/MyRecipiesPage.styled.jsx","pages/MyRecipesPage/MyRecipesPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\nimport PageTitle from 'components/ReusableComponents/PageTitle/PageTitle';\n\nexport const Section = styled.section`\n  padding-bottom: 100px;\n\n  @media (min-width: 768px) {\n    padding-bottom: 200px;\n  }\n  @media (min-width: 1280px) {\n    padding-bottom: 100px;\n  }\n`;\n\nexport const Title = styled(PageTitle)`\n  margin-bottom: 50px;\n  @media (min-width: 768px) {\n    margin-bottom: 100px;\n  }\n`;\n\nexport const List = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n  margin: 50px 0 40px;\n\n  @media (min-width: 768px) {\n    gap: 40px;\n    margin: 100px 0 50px;\n  }\n  @media (min-width: 1280px) {\n    gap: 50px;\n  }\n`;\n\nexport const EmptyInfo = styled.div`\n  margin-top: 50px;\n\n  @media (min-width: 768px) {\n    margin-top: 100px;\n  }\n`;\n","import { useDispatch, useSelector } from 'react-redux';\nimport { useLayoutEffect, useRef } from 'react';\n\nimport getOwnRecipe from 'redux/recipes/operations/getOwnRecipes';\nimport { selectUser } from 'redux/auth/selectors';\n\nimport { MainContainer } from 'components/MainContainer/MainContainer';\nimport Loader from 'components/ReusableComponents/Loader/Loader';\nimport RecipeCardItem from 'components/ReusableComponents/RecipeCardItem/RecipeCardItem';\n\nimport { EmptyInfo, List, Section, Title } from './MyRecipiesPage.styled';\nimport SearchCapImage from 'components/ReusableComponents/SearchCap/SearhCap';\nimport deleteOwnRecipe from 'redux/recipes/operations/deleteOwnRecipe';\nimport getOwnRecipes from 'redux/recipes/operations/getOwnRecipes';\nimport Pagination from 'components/ReusableComponents/Pagination/Pagination';\n\nconst MyRecipesPage = () => {\n  const { userId } = useSelector(selectUser);\n  const { isLoading, error, ownRecipes } = useSelector(state => state.recipes);\n  const listRef = useRef(null);\n  const dispatch = useDispatch();\n\n  const handleChange = num => {\n    listRef.current?.scrollIntoView({ behavior: 'smooth' });\n    dispatch(getOwnRecipe({ id: userId, page: num }));\n  };\n\n  const onDeleteHandler = id => {\n    dispatch(deleteOwnRecipe(id)).then(() =>\n      dispatch(\n        getOwnRecipes({\n          page:\n            (ownRecipes.totalOwnRecipes - 1) % ownRecipes.perPage === 0\n              ? ownRecipes.currentPage - 1\n              : ownRecipes.currentPage,\n        })\n      )\n    );\n  };\n\n  useLayoutEffect(() => {\n    dispatch(getOwnRecipe({ id: userId, page: 1 }));\n  }, [dispatch, userId]);\n\n  return (\n    <Section>\n      <MainContainer>\n        <Title title=\"My recipes\" />\n        {isLoading ? (\n          <Loader />\n        ) : error ? (\n          <div>{error}</div>\n        ) : ownRecipes.recipe.length ? (\n          <>\n            <List ref={listRef}>\n              {ownRecipes.recipe.map(recipe => (\n                <RecipeCardItem\n                  key={recipe._id}\n                  onDeleteHandler={onDeleteHandler}\n                  {...recipe}\n                />\n              ))}\n            </List>\n            <Pagination\n              currentPage={ownRecipes.currentPage}\n              pageSize={ownRecipes.perPage}\n              totalCount={ownRecipes.totalOwnRecipes}\n              onPageChange={handleChange}\n            />\n          </>\n        ) : (\n          <EmptyInfo>\n            <SearchCapImage>\n              You don't have any saved recipes yet.\n            </SearchCapImage>\n          </EmptyInfo>\n        )}\n      </MainContainer>\n    </Section>\n  );\n};\n\nexport default MyRecipesPage;\n"],"names":["Section","styled","Title","PageTitle","List","EmptyInfo","userId","useSelector","selectUser","state","recipes","isLoading","error","ownRecipes","listRef","useRef","dispatch","useDispatch","onDeleteHandler","id","deleteOwnRecipe","then","getOwnRecipes","page","totalOwnRecipes","perPage","currentPage","useLayoutEffect","getOwnRecipe","MainContainer","title","Loader","recipe","length","ref","map","RecipeCardItem","_id","Pagination","pageSize","totalCount","onPageChange","num","current","scrollIntoView","behavior"],"sourceRoot":""}